{% load static %}

<header class="sticky top-0 z-40 w-full bg-white border-b border-slate-200">
  <div class="max-w-6xl mx-auto px-4 h-14 flex justify-between items-center">

    <a href="/" class="text-lg font-semibold">
      Safwan Restaurant
    </a>

    <nav class="hidden md:flex items-center gap-6 text-sm">
      <a href="/">Home</a>
      <a href="{% url 'menu' %}">Menu</a>
      <a href="{% url 'book' %}">Book Table</a>

      {% if user.is_authenticated %}
        <a href="{% url 'ordersPage' %}">Orders</a>
      {% endif %}

      <button onclick="openCart()" class="relative p-2">
        <img src="{% static 'img/shopping-cart.png' %}" class="w-6 h-6">
        <span data-cart-count class="absolute -top-1 -right-1 bg-orange-600 text-white text-xs w-5 h-5 rounded-full hidden">0</span>
      </button>

      {% if user.is_authenticated %}
        <span class="font-medium">{{ user.username }}</span>
        <a href="{% url 'logout' %}" class="px-4 py-2 border rounded-lg">Logout</a>
      {% else %}
        <button onclick="openAuthModal('login')" class="px-4 py-2 border rounded-lg">Login</button>
        <button onclick="openAuthModal('signup')" class="px-4 py-2 bg-amber-500 text-white rounded-lg">Sign Up</button>
      {% endif %}
    </nav>

    <div class="md:hidden">
      <button onclick="toggleMobileMenu()">â˜°</button>
    </div>
  </div>

  <div id="mobileMenu" class="hidden md:hidden bg-white border-t">
    <nav class="p-4 space-y-3">
      <a href="/" class="block">Home</a>
      <a href="{% url 'menu' %}" class="block">Menu</a>
      <a href="{% url 'book' %}" class="block">Book Table</a>

      {% if user.is_authenticated %}
        <a href="{% url 'ordersPage' %}" class="block">Orders</a>
        <a href="{% url 'logout' %}" class="block border rounded-lg px-4 py-2">Logout</a>
      {% else %}
        <button onclick="openAuthModal('login')" class="w-full border px-4 py-2 rounded-lg">Login</button>
        <button onclick="openAuthModal('signup')" class="w-full bg-amber-500 text-white px-4 py-2 rounded-lg">Sign Up</button>
      {% endif %}
    </nav>
  </div>
</header>

<script>
  let mobileMenuOpen = false;
  function toggleMobileMenu() {
    mobileMenuOpen = !mobileMenuOpen;
    document.getElementById("mobileMenu")
      .classList.toggle("hidden", !mobileMenuOpen);
  }
</script>
